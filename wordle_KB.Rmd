---
title: "wordle_KB"
output: html_document
date: "2024-02-12"
editor_options: 
  chunk_output_type: console
---

# Creating a Wordle Game
The rules of Wordle are simple: A player has SIX tries to guess a 5-letter word that has been selected at random from a list of possible words. Guesses need to be valid 5-letter words. After each guess, a player receives feedback about how close their guess was to the word, which provides information they can use to try to solve the puzzle. This feedback lets you know whether each letter your guess is either [1] in the solution word and in the correct spot, [2] in the solution word but in the wrong position, or [3] not in the solution word. In app/browser versions of Wordle, this feedback is provided visually using colors, but that need not be the case.

## Step 1
- Created a custom function called load_dictionary() that takes a single argument, “filename”, that can be used to read in either of the two data files your downloaded.

- Used that function to create two variables, solution_list and valid_list, that, respectively contain vectors of possible solution words and valid words to guess.

```{r}
# Load files. These files were pulled from our own repository but originally downloaded from https://github.com/difiore/ada-2024-datasets
valid_file <- "https://raw.githubusercontent.com/ecarlson5683/exercise-04/main/collins-scrabble-words-2019.txt"
solution_file <- "https://raw.githubusercontent.com/ecarlson5683/exercise-04/main/google-10000-english-usa-no-swears.txt"


# Creating custom function "load_library"
load_library <- function(filename){
  library(tidyverse)
  read.table(filename, header = TRUE) %>% # create a tibble (data frame)
    pull(words) # ensure that only "words" is being pulled
}

valid_list <- load_library(valid_file)
solution_list <- load_library(solution_file)

str(valid_list)
str(solution_list)
```

## Step 2 
- Winnowed the variable solution_list to only include words that are included in valid_list. 
- Used R help to look at the documentation for the intersection() function to see if it would work. 
- `How many words are in your updated solution_list vector?`

```{r}
True_solution_list <- intersect(valid_list, solution_list)
str(True_solution_list)

no_words <- length(True_solution_list)
print(paste("There are", no_words, "words"))
```

## Step 3
- Wrote a custom function called pick_solution() that [1] removes all words from solution_list that are not 5 letters in length, [2] then randomly chooses a single word from those that remain, and [3] then splits that word into a vector of single-character elements. solution_list vector can pass as the argument to the function.
- Once function worked, assigned the result to a variable called solution. 

*As a bonus, you might include a second argument for your pick_solution() function called “word_length” that makes your function flexible enough to select a solution word that is something other than 5 characters long.

```{r}
pick_solution <- function(word){
  subset(word, nchar(word) == 5) |> # Keep only 5 letter long words all words
    sample(1) |>
    str_split_1( "") # randomly select a 5-letter word and make it 5 distinct characters
}

solution <- pick_solution(True_solution_list)
print(solution)
```

## Step 4
- Create two more functions. The first should be called play_wordle() and it should take three arguments: [1] the answer to the puzzle (the value of your solution variable), [2] a list of valid guesses (the contents of your valid_list variable), and [3] a value for “number of guesses”, which you should set to the original Wordle game default of 6.

```{r}
play_wordle <- function(solution, valid_list, num_guesses=6){
#solution: answer to the wordle
#valid_list: list of all possible words in the valid list 
#num_guesses: number of guesses each player has
  
# Tell the player the rules of the game  
  n_length <- length(solution)
  num_guesses <- 6
  print(paste("Hi! You have", num_guesses, "chances to guess the", n_length, "lettered word")) # Numbers of guesses left

  # Display what letters the player has not yet guesses
  
  lettersRemaining <- toupper(LETTERS) #toupper() capitilizes all letters; tolower() would make all letters lower case
  print(paste("You have the following letters remaining:", paste(lettersRemaining, collapse=" ")))
  
# Prompt a player for a guess
  num_guesses <- 0
  num_guesses <- num_guesses + 1
  guess <- readline(prompt = paste("Enter guess number", num_guesses, "then press <enter>: ")) #Readline prompts user to enter a guess
  guess <- toupper(guess)
  guess <- str_split(guess, "")
}

play_wordle(solution, valid_list, num_guesses)

print("hi")

```
